<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>宫的小六壬 - 连数起课法</title>
    <script src="https://cdn.tailwindcss.com/3.3.3"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <style>
        /* 基础样式 */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Arial', 'Helvetica Neue', sans-serif;
            background-color: #ffffff;
            color: #333333;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* 输入框样式 */
        .input-field {
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 10px 12px;
            font-size: 16px;
            transition: all 0.2s ease;
            width: 100%;
        }
        
        .input-field:focus {
            border-color: #0071e3;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 113, 227, 0.1);
        }
        
        /* 按钮样式 */
        .btn-submit {
            background-color: #0071e3;
            color: white;
            border-radius: 8px;
            padding: 10px 24px;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-submit:hover {
            background-color: #0063cc;
        }
        
        .btn-submit:active {
            background-color: #0052a3;
        }
        
        .btn-secondary {
            background-color: #f5f5f7;
            color: #333333;
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background-color: #e9e9eb;
        }
        
        /* 卡片样式 */
        .card {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        /* 结果卡片样式 */
        .result-card {
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
            flex: 1;
        }
        
        .result-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        /* 导航栏样式 */
        .nav {
            padding: 16px 0;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #f0f0f0;
        }
        
        /* 页脚样式 */
        .footer {
            border-top: 1px solid #f0f0f0;
            padding: 24px 0;
            margin-top: 48px;
        }
        
        /* 错误提示样式 */
        .error-message {
            color: #ff3b30;
            font-size: 12px;
            margin-top: 4px;
        }
        
        /* 神煞颜色样式 */
        .da-an { background-color: #007aff; }
        .liu-lian { background-color: #5856d6; }
        .su-xi { background-color: #34c759; }
        .chi-kou { background-color: #ff3b30; }
        .xiao-ji { background-color: #ffcc00; }
        .kong-wang { background-color: #8e8e93; }
        
        .da-an-bg { background-color: #f2f9ff; }
        .liu-lian-bg { background-color: #f2f2ff; }
        .su-xi-bg { background-color: #f2fff2; }
        .chi-kou-bg { background-color: #fff2f2; }
        .xiao-ji-bg { background-color: #fffff2; }
        .kong-wang-bg { background-color: #f2f2f2; }
        
        .da-an-text { color: #007aff; }
        .liu-lian-text { color: #5856d6; }
        .su-xi-text { color: #34c759; }
        .chi-kou-text { color: #ff3b30; }
        .xiao-ji-text { color: #ffcc00; }
        .kong-wang-text { color: #8e8e93; }
        
        /* 箭头连接线样式 */
        .arrow-connector {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #d1d5db;
            margin: 0 8px;
        }
        
        /* 结果容器样式 */
        .results-container {
            display: flex;
            align-items: stretch;
            justify-content: space-between;
            width: 100%;
        }
        
        /* 响应式调整 */
        @media (max-width: 767px) {
            .results-container {
                flex-direction: column;
            }
            
            .arrow-connector {
                transform: rotate(90deg);
                margin: 12px 0;
            }
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- 导航条 -->
    <nav class="nav">
        <div class="container mx-auto px-4 md:px-8 flex items-center justify-between">
            <div class="text-xl font-medium">
                <i class="fas fa-chart-pie mr-2 text-gray-600"></i>宫的小六壬
            </div>
        </div>
    </nav>

    <!-- 头部横幅 -->
    <header class="container mx-auto py-20 px-4 md:px-8 text-center">
        <div class="max-w-3xl mx-auto">
            <h1 class="text-4xl md:text-5xl font-semibold mb-6">宫的小六壬</h1>
            <p class="text-xl text-gray-600 mb-8">你如果遇到小困难，不妨输入三个数字测一测</p>
        </div>
    </header>

    <!-- 主要内容 -->
    <main class="container mx-auto py-8 px-4 md:px-8">
        <!-- 输入区域 -->
        <div class="card p-8 md:p-12 max-w-4xl mx-auto mb-16">
            <h2 class="text-2xl font-semibold mb-8 flex items-center">
                <div class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-700 mr-3">
                    <i class="fas fa-calculator"></i>
                </div>
                占卜输入
            </h2>
            
            <form id="divinationForm" class="space-y-8">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="space-y-2">
                        <label for="num1" class="block text-sm font-medium text-gray-700">第一个数字 (1-12)</label>
                        <input type="number" id="num1" name="num1" min="1" max="12" class="input-field" placeholder="输入1-12之间的整数" required>
                        <p id="error1" class="error-message hidden">请输入1-12之间的整数</p>
                    </div>
                    <div class="space-y-2">
                        <label for="num2" class="block text-sm font-medium text-gray-700">第二个数字 (1-12)</label>
                        <input type="number" id="num2" name="num2" min="1" max="12" class="input-field" placeholder="输入1-12之间的整数" required>
                        <p id="error2" class="error-message hidden">请输入1-12之间的整数</p>
                    </div>
                    <div class="space-y-2">
                        <label for="num3" class="block text-sm font-medium text-gray-700">第三个数字 (1-12)</label>
                        <input type="number" id="num3" name="num3" min="1" max="12" class="input-field" placeholder="输入1-12之间的整数" required>
                        <p id="error3" class="error-message hidden">请输入1-12之间的整数</p>
                    </div>
                </div>
                
                <!-- 问事内容输入框 -->
                <div class="space-y-2">
                    <label for="question" class="block text-sm font-medium text-gray-700">问事内容</label>
                    <textarea id="question" name="question" rows="3" class="input-field" placeholder="请输入您想询问的事情，如："近期财运如何？"、"感情发展状况"等" required></textarea>
                    <p id="errorQuestion" class="error-message hidden">请输入问事内容</p>
                </div>
                
                <div class="flex justify-center pt-4">
                    <button type="submit" class="btn-submit flex items-center">
                        <i class="fas fa-magic mr-2"></i>开始占卜
                    </button>
                </div>
            </form>
        </div>

        <!-- 结果显示区域 -->
        <div id="resultArea" class="card p-8 md:p-12 max-w-4xl mx-auto hidden">
            <h2 class="text-2xl font-semibold mb-8 flex items-center">
                <div class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-700 mr-3">
                    <i class="fas fa-scroll"></i>
                </div>
                占卜结果
            </h2>
            
            <!-- 横向排列的结果容器 -->
            <div class="results-container mb-10">
                <div id="result1" class="result-card flex flex-col items-center justify-center">
                    <div class="w-16 h-16 rounded-full flex items-center justify-center mb-4 text-white text-xl font-bold"></div>
                    <h3 class="text-xl font-semibold mb-2"></h3>
                    <p class="text-gray-600"></p>
                </div>
                
                <!-- 第一个箭头 -->
                <div class="arrow-connector">
                    <i class="fas fa-arrow-right"></i>
                </div>
                
                <div id="result2" class="result-card flex flex-col items-center justify-center">
                    <div class="w-16 h-16 rounded-full flex items-center justify-center mb-4 text-white text-xl font-bold"></div>
                    <h3 class="text-xl font-semibold mb-2"></h3>
                    <p class="text-gray-600"></p>
                </div>
                
                <!-- 第二个箭头 -->
                <div class="arrow-connector">
                    <i class="fas fa-arrow-right"></i>
                </div>
                
                <div id="result3" class="result-card flex flex-col items-center justify-center">
                    <div class="w-16 h-16 rounded-full flex items-center justify-center mb-4 text-white text-xl font-bold"></div>
                    <h3 class="text-xl font-semibold mb-2"></h3>
                    <p class="text-gray-600"></p>
                </div>
            </div>
            
            <div class="text-center">
                <button id="resetButton" class="btn-secondary flex items-center mx-auto">
                    <i class="fas fa-redo-alt mr-2"></i>重新占卜
                </button>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container mx-auto px-4 md:px-8">
            <div class="text-center text-gray-500 text-sm">
                <p>created by <a href="https://space.coze.cn" class="text-blue-600 hover:underline">coze space</a></p>
                <p class="mt-2">页面内容均由 AI 生成，仅供参考</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 神煞数据
            const divinationData = {
                1: { name: '大安', meaning: '静止吉祥，凡事可成', color: 'da-an', bgColor: 'da-an-bg', textColor: 'da-an-text' },
                2: { name: '留连', meaning: '拖延纠缠，办事不利', color: 'liu-lian', bgColor: 'liu-lian-bg', textColor: 'liu-lian-text' },
                3: { name: '速喜', meaning: '喜庆快速，吉事将至', color: 'su-xi', bgColor: 'su-xi-bg', textColor: 'su-xi-text' },
                4: { name: '赤口', meaning: '口舌凶险，需防是非', color: 'chi-kou', bgColor: 'chi-kou-bg', textColor: 'chi-kou-text' },
                5: { name: '小吉', meaning: '和合吉利，运势顺畅', color: 'xiao-ji', bgColor: 'xiao-ji-bg', textColor: 'xiao-ji-text' },
                6: { name: '空亡', meaning: '虚妄无果，谋事难成', color: 'kong-wang', bgColor: 'kong-wang-bg', textColor: 'kong-wang-text' }
            };

            // 表单提交处理
            const form = document.getElementById('divinationForm');
            const resultArea = document.getElementById('resultArea');
            const resetButton = document.getElementById('resetButton');

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // 获取输入值
                const num1 = parseInt(document.getElementById('num1').value);
                const num2 = parseInt(document.getElementById('num2').value);
                const num3 = parseInt(document.getElementById('num3').value);
                const question = document.getElementById('question').value.trim();
                
                // 验证输入
                let isValid = true;
                
                if (isNaN(num1) || num1 < 1 || num1 > 12) {
                    document.getElementById('error1').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('error1').classList.add('hidden');
                }
                
                if (isNaN(num2) || num2 < 1 || num2 > 12) {
                    document.getElementById('error2').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('error2').classList.add('hidden');
                }
                
                if (isNaN(num3) || num3 < 1 || num3 > 12) {
                    document.getElementById('error3').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('error3').classList.add('hidden');
                }
                
                if (!question) {
                    document.getElementById('errorQuestion').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('errorQuestion').classList.add('hidden');
                }
                
                if (!isValid) return;
                
                // 计算落点（采用连数起课法）
                // 步骤1：六神顺序固定为大安(1)、留连(2)、速喜(3)、赤口(4)、小吉(5)、空亡(6)
                // 步骤2：从大安开始，第一个数字n1从1数到n1确定第一落点
                const position1 = calculatePosition(1, num1);
                // 步骤3：第二个数字n2从第一落点开始数n2确定第二落点
                const position2 = calculatePosition(position1, num2);
                // 步骤4：第三个数字n3从第二落点开始数n3确定第三落点
                const position3 = calculatePosition(position2, num3);
                
                // 显示结果
                displayResult(position1, position2, position3);
                
                // 显示结果区域
                resultArea.classList.remove('hidden');
                
                // 平滑滚动到结果区域
                resultArea.scrollIntoView({ behavior: 'smooth' });
            });
            
            // 重置按钮事件
            resetButton.addEventListener('click', function() {
                form.reset();
                resultArea.classList.add('hidden');
                
                // 平滑滚动到表单区域
                form.scrollIntoView({ behavior: 'smooth' });
            });
            
            // 计算落点位置的函数（连数起课法）
            function calculatePosition(startPosition, steps) {
                // 六神循环：1->2->3->4->5->6->1->...
                // 从起始位置开始，数steps步（包括起始位置）
                const position = (startPosition + steps - 1 - 1) % 6 + 1;
                return position;
            }
            
            // 显示结果函数
            function displayResult(r1, r2, r3) {
                // 清除之前的结果样式
                clearResultStyles();
                
                // 设置第一个结果
                const result1 = document.getElementById('result1');
                result1.classList.add(divinationData[r1].bgColor);
                result1.querySelector('div').classList.add(divinationData[r1].color);
                result1.querySelector('div').textContent = r1;
                result1.querySelector('h3').classList.add(divinationData[r1].textColor);
                result1.querySelector('h3').textContent = divinationData[r1].name;
                result1.querySelector('p').textContent = divinationData[r1].meaning;
                
                // 设置第二个结果
                const result2 = document.getElementById('result2');
                result2.classList.add(divinationData[r2].bgColor);
                result2.querySelector('div').classList.add(divinationData[r2].color);
                result2.querySelector('div').textContent = r2;
                result2.querySelector('h3').classList.add(divinationData[r2].textColor);
                result2.querySelector('h3').textContent = divinationData[r2].name;
                result2.querySelector('p').textContent = divinationData[r2].meaning;
                
                // 设置第三个结果
                const result3 = document.getElementById('result3');
                result3.classList.add(divinationData[r3].bgColor);
                result3.querySelector('div').classList.add(divinationData[r3].color);
                result3.querySelector('div').textContent = r3;
                result3.querySelector('h3').classList.add(divinationData[r3].textColor);
                result3.querySelector('h3').textContent = divinationData[r3].name;
                result3.querySelector('p').textContent = divinationData[r3].meaning;
            }
            
            // 清除结果样式函数
            function clearResultStyles() {
                const resultCards = document.querySelectorAll('.result-card');
                const colors = ['da-an', 'liu-lian', 'su-xi', 'chi-kou', 'xiao-ji', 'kong-wang'];
                const bgColors = ['da-an-bg', 'liu-lian-bg', 'su-xi-bg', 'chi-kou-bg', 'xiao-ji-bg', 'kong-wang-bg'];
                const textColors = ['da-an-text', 'liu-lian-text', 'su-xi-text', 'chi-kou-text', 'xiao-ji-text', 'kong-wang-text'];
                
                resultCards.forEach(card => {
                    // 移除背景颜色类
                    bgColors.forEach(color => card.classList.remove(color));
                    
                    // 移除数字圆圈颜色类
                    const circle = card.querySelector('div');
                    colors.forEach(color => circle.classList.remove(color));
                    
                    // 移除标题颜色类
                    const title = card.querySelector('h3');
                    textColors.forEach(color => title.classList.remove(color));
                });
            }
            
            // 输入框实时验证
            const inputs = form.querySelectorAll('input[type="number"]');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    const value = parseInt(this.value);
                    const errorElement = document.getElementById(`error${this.id.charAt(this.id.length - 1)}`);
                    
                    if (isNaN(value) || value < 1 || value > 12) {
                        errorElement.classList.remove('hidden');
                    } else {
                        errorElement.classList.add('hidden');
                    }
                });
            });
            
            // 问事内容实时验证
            const questionInput = document.getElementById('question');
            questionInput.addEventListener('input', function() {
                const errorElement = document.getElementById('errorQuestion');
                
                if (!this.value.trim()) {
                    errorElement.classList.remove('hidden');
                } else {
                    errorElement.classList.add('hidden');
                }
            });
        });
    </script>
</body>
</html>
