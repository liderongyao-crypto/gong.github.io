# 小红书商品采集 & 飞书多维表格同步插件

## 功能概述
- 在小红书商品/店铺页一键抓取可见商品卡片，提取「商品ID」「主图」等信息
- 在插件弹窗内预览抓取结果，支持手动筛查
- 一键推送到飞书多维表格，默认映射到字段「商品ID」「主图」
- 配置页中可修改飞书凭证、字段名称，支持自动刷新租户 token

## 目录结构
```
tool/xhs-feishu-extension
├── background.js       # 后台：存储凭证、调用飞书API
├── contentScript.js    # 内容脚本：解析小红书页面元素
├── manifest.json       # Chrome MV3 配置
├── options.html/css/js # 飞书凭证配置页
├── popup.html/css/js   # 交互弹窗
└── README.md
```

## 使用步骤
1. 在飞书开放平台创建自建应用，启用「多维表格（读写）」权限；发布并在组织内启用。
2. 打开目标多维表格，记录 `app_token`、`table_id`，并创建字段「商品ID」「主图」（或任意名称）。
3. Chrome 设置 → 扩展程序 → 开启开发者模式 → 加载已解压的扩展 → 选择 `tool/xhs-feishu-extension` 目录。
4. 在插件设置页填写：App ID、App Secret、Bitable appToken、tableId 以及字段名称，保存。
5. 打开小红书商品列表或店铺页，点击插件图标 →「抓取当前页面」，确认数据 →「同步到飞书」。

## 注意事项
- 内容脚本基于常见 DOM 特征提取 ID/主图，如页面结构变化，可在 `contentScript.js` 中增补选择器。
- 飞书写入API为批量创建，每批最多10条，可按需调大/调小。
- 如果不方便提供 AppID/Secret，可在设置中直接输入现成的租户 Token（自行扩展 `background.js` 即可）。
- 同步主图目前以 URL 字符串写入文本字段，如需上传到飞书图像字段，需要增加上传素材接口调用。

## TODO/扩展建议
- [ ] 增加关键字过滤、批量选择
- [ ] 在Popup中直接编辑/删除单条记录
- [ ] 支持登录态校验或自定义脚本注入
